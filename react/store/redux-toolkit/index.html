<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redux Toolkit | My react</title>
    <meta name="description" content="react">
    <link rel="preload stylesheet" href="/zhuyg/assets/style.e815342c.css" as="style">
    
    <script type="module" src="/zhuyg/assets/app.216a1134.js"></script>
    <link rel="preload" href="/zhuyg/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/zhuyg/assets/chunks/framework.3b4788da.js">
    <link rel="modulepreload" href="/zhuyg/assets/chunks/theme.5215a0b2.js">
    <link rel="modulepreload" href="/zhuyg/assets/react_store_redux-toolkit_index.md.569e4ad8.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-4783c52f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0fb5ceed></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0fb5ceed> Skip to content </a><!--]--><!----><header class="VPNav" data-v-4783c52f data-v-c8ebd70b><div class="VPNavBar has-sidebar" data-v-c8ebd70b data-v-366c6e0b><div class="container" data-v-366c6e0b><div class="title" data-v-366c6e0b><div class="VPNavBarTitle has-sidebar" data-v-366c6e0b data-v-4efd4b01><a class="title" href="/zhuyg/" data-v-4efd4b01><!--[--><!--]--><!----><!--[-->My react<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-366c6e0b><div class="curtain" data-v-366c6e0b></div><div class="content-body" data-v-366c6e0b><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-366c6e0b><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-366c6e0b data-v-60319743><span id="main-nav-aria-label" class="visually-hidden" data-v-60319743>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zhuyg/" tabindex="0" data-v-60319743 data-v-86e250bb><!--[--><span data-v-86e250bb>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zhuyg/team.html" tabindex="0" data-v-60319743 data-v-86e250bb><!--[--><span data-v-86e250bb>Examples</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-366c6e0b data-v-a56aadcc><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-a56aadcc data-v-64f121af data-v-268d9a46><span class="check" data-v-268d9a46><span class="icon" data-v-268d9a46><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-64f121af><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-64f121af><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-366c6e0b data-v-69072e13 data-v-affd18b9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-affd18b9 data-v-7dff633e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-366c6e0b data-v-0a68c30f data-v-2a9a2b1e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-2a9a2b1e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-2a9a2b1e><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-2a9a2b1e><div class="VPMenu" data-v-2a9a2b1e data-v-50b5e3b7><!----><!--[--><!--[--><!----><div class="group" data-v-0a68c30f><div class="item appearance" data-v-0a68c30f><p class="label" data-v-0a68c30f>Appearance</p><div class="appearance-action" data-v-0a68c30f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-0a68c30f data-v-64f121af data-v-268d9a46><span class="check" data-v-268d9a46><span class="icon" data-v-268d9a46><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-64f121af><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-64f121af><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-0a68c30f><div class="item social-links" data-v-0a68c30f><div class="VPSocialLinks social-links-list" data-v-0a68c30f data-v-affd18b9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-affd18b9 data-v-7dff633e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-366c6e0b data-v-6077317c><span class="container" data-v-6077317c><span class="top" data-v-6077317c></span><span class="middle" data-v-6077317c></span><span class="bottom" data-v-6077317c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-4783c52f data-v-cf8864ec><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-cf8864ec><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-cf8864ec><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-cf8864ec>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-cf8864ec data-v-f2438d15><button data-v-f2438d15>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-4783c52f data-v-1cd37daf><div class="curtain" data-v-1cd37daf></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-1cd37daf><span class="visually-hidden" id="sidebar-aria-label" data-v-1cd37daf> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-1cd37daf><section class="VPSidebarItem level-0" data-v-1cd37daf data-v-55ec8528><div class="item" role="button" tabindex="0" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><h2 class="text" data-v-55ec8528>Examples</h2><!----></div><div class="items" data-v-55ec8528><!--[--><div class="VPSidebarItem level-1 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="/zhuyg/markdown-examples.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>Markdown Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="/zhuyg/api-examples.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>Runtime API Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-1cd37daf><section class="VPSidebarItem level-0" data-v-1cd37daf data-v-55ec8528><div class="item" role="button" tabindex="0" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><h2 class="text" data-v-55ec8528>Examples</h2><!----></div><div class="items" data-v-55ec8528><!--[--><div class="VPSidebarItem level-1 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="/zhuyg/markdown-examples.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>Markdown Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="/zhuyg/api-examples.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>Runtime API Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-1cd37daf><section class="VPSidebarItem level-0 collapsible has-active" data-v-1cd37daf data-v-55ec8528><div class="item" role="button" tabindex="0" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><h2 class="text" data-v-55ec8528>react</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-55ec8528><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-55ec8528><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-55ec8528><!--[--><div class="VPSidebarItem level-1 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="../react/router/react-router-dom/install.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>安装</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-55ec8528 data-v-55ec8528><div class="item" role="button" tabindex="0" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><h3 class="text" data-v-55ec8528>路由</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-55ec8528><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-55ec8528><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-55ec8528><!--[--><section class="VPSidebarItem level-2 collapsible" data-v-55ec8528 data-v-55ec8528><div class="item" role="button" tabindex="0" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><h4 class="text" data-v-55ec8528>react-router-dom(6.14.2)</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-55ec8528><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-55ec8528><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-55ec8528><!--[--><div class="VPSidebarItem level-3 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="/zhuyg/react/router/react-router-dom/install.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="/zhuyg/react/router/react-router-dom/define.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>定义路由</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible has-active" data-v-55ec8528 data-v-55ec8528><div class="item" role="button" tabindex="0" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><h3 class="text" data-v-55ec8528>状态管理</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-55ec8528><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-55ec8528><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-55ec8528><!--[--><div class="VPSidebarItem level-2 is-link" data-v-55ec8528 data-v-55ec8528><div class="item" data-v-55ec8528><div class="indicator" data-v-55ec8528></div><a class="VPLink link link" href="/zhuyg/react/store/redux-toolkit/index.html" data-v-55ec8528><!--[--><p class="text" data-v-55ec8528>Redux-Toolkitn</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-4783c52f data-v-9f2f749e><div class="VPDoc has-sidebar has-aside" data-v-9f2f749e data-v-0ea4133b><!--[--><!--]--><div class="container" data-v-0ea4133b><div class="aside" data-v-0ea4133b><div class="aside-curtain" data-v-0ea4133b></div><div class="aside-container" data-v-0ea4133b><div class="aside-content" data-v-0ea4133b><div class="VPDocAside" data-v-0ea4133b data-v-e8656730><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-e8656730 data-v-8a53ed00><div class="content" data-v-8a53ed00><div class="outline-marker" data-v-8a53ed00></div><div class="outline-title" data-v-8a53ed00>Main</div><nav aria-labelledby="doc-outline-aria-label" data-v-8a53ed00><span class="visually-hidden" id="doc-outline-aria-label" data-v-8a53ed00> Table of Contents for current page </span><ul class="root" data-v-8a53ed00 data-v-3fff0a44><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-e8656730></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-0ea4133b><div class="content-container" data-v-0ea4133b><!--[--><!--]--><!----><main class="main" data-v-0ea4133b><div style="position:relative;" class="vp-doc _zhuyg_react_store_redux-toolkit_index" data-v-0ea4133b><div><h1 id="redux-toolkit" tabindex="-1"><code>Redux Toolkit</code> <a class="header-anchor" href="#redux-toolkit" aria-label="Permalink to &quot;`Redux Toolkit`&quot;">​</a></h1><p><code>Redux Toolkit</code> 是官方推荐的编写 <code>Redux</code> 逻辑的方法，用以代替传统的 <code>Redux</code> 独立使用。 <code>Redux Toolkit</code> 构建了 <code>Redux</code> 建议的最佳实践，简化了大多数 <code>Redux</code> 任务，防止了常见错误，并使编写 <code>Redux</code> 应用程序变得更加容易。</p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@reduxjs/toolkit</span></span></code></pre></div><p>如果需要在 <code>React</code> 应用程序中使用还需要补充安装 <code>react-redux</code>：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm i react</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">redux</span></span></code></pre></div><h2 id="创建-redux-store-存储" tabindex="-1">创建 <code>Redux Store</code> 存储 <a class="header-anchor" href="#创建-redux-store-存储" aria-label="Permalink to &quot;创建 `Redux Store` 存储&quot;">​</a></h2><p><code>Redux</code> 使用单一状态树，用一个对象 <code>store</code> 包含全部的应用层级状态，在应用程序中作为一个“ <strong>唯一数据源（SSOT）</strong> ”而存在。</p><p>根据开发习惯，一般使用 <code>src/store/index.js</code> 作为存储定义文件。</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">configureStore</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@reduxjs/toolkit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 定义全局状态存储对象</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> store </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">configureStore</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">reducer</span><span style="color:#89DDFF;">:{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">exportdefault store</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="将-redux-提供给-react" tabindex="-1">将 <code>Redux</code> 提供给 <code>React</code> <a class="header-anchor" href="#将-redux-提供给-react" aria-label="Permalink to &quot;将 `Redux` 提供给 `React`&quot;">​</a></h2><p>利用 <code>React-Redux</code> 将 <code>store</code> 以上下文的形式提供给 <code>React</code> 应用程序，允许每一个组件都可以获取到存储状态。</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Provider</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-redux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> store </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./store</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRoot</span><span style="color:#A6ACCD;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Providerstore</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">Provider</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="创建-redux-状态切片" tabindex="-1">创建 <code>Redux</code> 状态切片 <a class="header-anchor" href="#创建-redux-状态切片" aria-label="Permalink to &quot;创建 `Redux` 状态切片&quot;">​</a></h2><p>在 <code>Redux</code> 中，允许将全部状态进行切分，每一部分称为切片 <code>slice</code>。</p><p>TIP</p><p>切片（<code>slice</code>）的本质还是模块（<code>module</code>）。</p><p>以计数器切片为例，创建 <code>src/store/counter.slice.js</code> 文件，定义切片具体配置，然后获取并导出切片提供的 <code>reducer</code> 函数及 <code>action</code> 对象：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">import{createSlice}from&quot;@reduxjs/toolkit&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 定义切片</span></span>
<span class="line"><span style="color:#A6ACCD;">const counterSlice =createSlice({</span></span>
<span class="line"><span style="color:#A6ACCD;">name:&quot;counter&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">initialState:{</span></span>
<span class="line"><span style="color:#A6ACCD;">value:0,</span></span>
<span class="line"><span style="color:#A6ACCD;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">reducers:{</span></span>
<span class="line"><span style="color:#A6ACCD;">increment(state){</span></span>
<span class="line"><span style="color:#A6ACCD;">state.value+=1;</span></span>
<span class="line"><span style="color:#A6ACCD;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">decrement(state){</span></span>
<span class="line"><span style="color:#A6ACCD;">state.value-=1;</span></span>
<span class="line"><span style="color:#A6ACCD;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">incrementByAmount:(state,action)=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">state.value+=action.payload;</span></span>
<span class="line"><span style="color:#A6ACCD;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 导出切片名称</span></span>
<span class="line"><span style="color:#A6ACCD;">exportconst counterName = counterSlice.name;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 导出 store 需要的切片 reducer 函数</span></span>
<span class="line"><span style="color:#A6ACCD;">exportconst counterReducer = counterSlice.reducer;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 导出组件内需要的用于创建 action 对象的函数</span></span>
<span class="line"><span style="color:#A6ACCD;">exportconst{ increment, decrement, incrementByAmount }= counterSlice.actions;</span></span></code></pre></div><p>关于切片配置：</p><ul><li><code>name</code>：定义切片名称，用于为对切片状态和方法创建命名空间，为切片创建的完整 <code>action</code> 名称格式为 <code>[sliceName]/[actionName]</code></li><li><code>initialState</code>：切片初始状态，需定义为对象类型数据</li><li><code>reducers</code>：定义用于匹配 <code>action</code> 对象的切片状态修改方法，仅支持定义同步方法</li></ul><p>其中 <code>reducers</code> 配置方法均可以获取两个参数：</p><ul><li>参数 1：当前切片状态的 <code>Proxy</code> 对象，允许直接对状态接修改</li><li>参数 2：触发切片 <code>reducer</code> 函数的 <code>action</code> 对象，可以获取对应的 <code>payload</code> 用于自定义修改状态</li></ul><p>TIP</p><p>建议切片名称使用常量声明并导出，方便在切片内和 <code>store</code> 中同时使用同一名称。</p><h2 id="在-store-中添加切片-reducer-函数" tabindex="-1">在 <code>store</code> 中添加切片 <code>reducer</code> 函数 <a class="header-anchor" href="#在-store-中添加切片-reducer-函数" aria-label="Permalink to &quot;在 `store` 中添加切片 `reducer` 函数&quot;">​</a></h2><p>导入切片 <code>reducer</code> 函数在 <code>store</code> 内补充配置即可。</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">counterName</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">counterReducer</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./counter.slice</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> store </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">configureStore</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">reducer</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">counterName</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> counterReducer</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="在组件内使用并修改状态" tabindex="-1">在组件内使用并修改状态 <a class="header-anchor" href="#在组件内使用并修改状态" aria-label="Permalink to &quot;在组件内使用并修改状态&quot;">​</a></h2><p>通过 <code>react-redux</code> 获取 <code>store</code> 状态获取函数 <code>useSelector</code> 及状态修改触发函数 <code>dispatch</code> 的获取函数 <code>useDispatch</code>。</p><ul><li><code>useSelector</code>：参数需要传递一个回调函数，回调函数的参数值即为 <code>store</code> 最新状态，同时回调函数必须定义返回值，值为需要获取的切片状态</li><li><code>useDispatch</code>：执行后即可获取状态修改触发函数 <code>dispatch</code></li></ul><p>其中，<code>dispatch</code> 方法执行时，参数需要传递一个包含有 <code>type</code> 和 <code>payload</code> 属性的 <code>action</code> 对象，其中 <code>type</code> 属性描述希望如何修改状态，<code>payload</code> 是对应状态修改的载荷值。可以使用切片提供的 <code>action</code> 创建函数，执行时参数为 <code>payload</code> 属性值，执行后结果为对应的 <code>action</code> 对象，可直接作为 <code>dispatch</code> 方法参数。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">useState</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">useSelector</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">useDispatch</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-redux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">increment</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">decrement</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">incrementByAmount</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./store/counter.slice</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> App </span><span style="color:#89DDFF;">=()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">constcounter</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">useSelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">store</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">counter</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">constdispatch</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">useDispatch</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">amount</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">setAmount</span><span style="color:#89DDFF;">]=</span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">5</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">constupdateAmount</span><span style="color:#89DDFF;">=(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">letnewAmount</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;">amount</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">setAmount</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">newAmount</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">计数值：</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;buttononClick=</span><span style="color:#89DDFF;">{()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#82AAFF;">dispatch</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">increment</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">&gt;增加</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">buttononClick</span><span style="color:#89DDFF;">={</span><span style="color:#F07178;">()=&gt;dispatch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">decrement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">减小</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;inputtype=&quot;text&quot;value=</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">amount</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> onChange=</span><span style="color:#89DDFF;">{(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#82AAFF;">updateAmount</span><span style="color:#A6ACCD;">(e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value)</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;buttononClick=</span><span style="color:#89DDFF;">{()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#82AAFF;">dispatch</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">incrementByAmount</span><span style="color:#A6ACCD;">(amount))</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">&gt;自定义</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>TIP</p><p>上例中，可以不使用 <code>action</code> 创建函数作为 <code>dispatch</code> 方法的参数，允许直接传递 <code>{ type, payload }</code> 类型对象。<code>increment</code> 执行结果为 <code>{ type: &quot;counter/increment&quot;, payload: undefined }</code>，即可看出命名空间效果。</p><h2 id="定义允许异步操作的-action" tabindex="-1">定义允许异步操作的 <code>action</code> <a class="header-anchor" href="#定义允许异步操作的-action" aria-label="Permalink to &quot;定义允许异步操作的 `action`&quot;">​</a></h2><p>在切片中定义异步操作需要使用 <code>createAsyncThunk</code>。此方法需要接收两个参数：</p><ul><li>参数 1：异步 <code>action</code> 名称，会作为 <code>action.type</code> 属性值</li><li>参数 2：异步任务函数</li></ul><p>其中，异步任务函数接收两个参数：</p><ul><li>参数 1：<code>payload</code>，组件内触发异步 action 时传递的载荷</li><li>参数 2：通过参数解构可以获取 <code>getState</code> 切片状态获取函数和 <code>action</code> 触发函数 <code>dispatch</code></li></ul><p><strong>JavaScript</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// src/store/counter.slice.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">exportconst incrementByAsync </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">createAsyncThunk</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#89DDFF;">`${</span><span style="color:#A6ACCD;">counterName</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/incrementByAsync</span><span style="color:#89DDFF;">`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">payload</span><span style="color:#89DDFF;">,{</span><span style="color:#A6ACCD;font-style:italic;">getState</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">dispatch</span><span style="color:#89DDFF;">})</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">conststate</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">getState</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">constresponse</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">awaitfetchApi</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">payload</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#82AAFF;">dispatch</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">incrementByAmount</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// src/App.jsx</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">incrementByAsync</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./store/counter.slice</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">buttononClick</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">()=&gt;</span><span style="color:#F07178;">dispatch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">incrementByAsync</span><span style="color:#A6ACCD;">(10</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">异步增加</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-0ea4133b data-v-78c1e389><!--[--><!--]--><!----><nav class="prev-next" data-v-78c1e389><div class="pager" data-v-78c1e389><a class="pager-link prev" href="/zhuyg/react/router/react-router-dom/define.html" data-v-78c1e389><span class="desc" data-v-78c1e389>Previous page</span><span class="title" data-v-78c1e389>定义路由</span></a></div><div class="pager" data-v-78c1e389><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"181aacb2\",\"team.md\":\"58550a21\",\"react_router_react-router-dom_define.md\":\"cd01c398\",\"react_store_redux-toolkit_index.md\":\"569e4ad8\",\"api-examples.md\":\"a1e0c19f\",\"ii.md\":\"39627371\",\"react_router_react-router-dom_install.md\":\"076d83aa\",\"markdown-examples.md\":\"799f3c6d\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"My react\",\"description\":\"react\",\"base\":\"/zhuyg/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Examples\",\"link\":\"/team\"}],\"sidebar\":[{\"text\":\"Examples\",\"items\":[{\"text\":\"Markdown Examples\",\"link\":\"/markdown-examples\"},{\"text\":\"Runtime API Examples\",\"link\":\"/api-examples\"}]},{\"text\":\"Examples\",\"items\":[{\"text\":\"Markdown Examples\",\"link\":\"/markdown-examples\"},{\"text\":\"Runtime API Examples\",\"link\":\"/api-examples\"}]},{\"text\":\"react\",\"collapsed\":false,\"items\":[{\"text\":\"安装\",\"link\":\"../react/router/react-router-dom/install.md\"},{\"text\":\"路由\",\"collapsed\":true,\"items\":[{\"text\":\"react-router-dom(6.14.2)\",\"collapsed\":false,\"items\":[{\"text\":\"安装\",\"link\":\"/react/router/react-router-dom/install.md\"},{\"text\":\"定义路由\",\"link\":\"/react/router/react-router-dom/define.md\"}]}]},{\"text\":\"状态管理\",\"collapsed\":true,\"items\":[{\"text\":\"Redux-Toolkitn\",\"link\":\"/react/store/redux-toolkit/index.md\"}]}]}],\"outlineTitle\":\"Main\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>